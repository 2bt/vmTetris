#include <stdlib.h>
#include <stdio.h>
#include <stdint.h>
#include <time.h>
#include <unistd.h>

char b[] = "$%+*-$-A$)G$%-))%$10$1-*1$10$1-*1$10$1-*1$10$1-*1$1.$1%$1-*1$1-$1/*"
"1$1-$1%*1$1/$1-$1$$19$1.$1.$1%*1$1$$19$1.$1.$1%*1*1$19*1$1.$1%$1,*)*1$19$1%$1,"
"$1%*1$18*1*)$1.$1%*1*1$18$1.$1%$1.*)*1$1/$1%$1.$1-*)*1$1/$1%$1.$1-*1*1$1,*1$1/"
"$1.*1*1$1,*1$1/$1.$)9$(9$1*$%-')%+(2':$(/$1*+(2'K$%>-%%$F-$%U-%%$5-$%>-%%$F-%%"
"$*-$%U-$%X-%%$W-0.-$%(&-*$&-&.-*%$-#+-1)O&#(,(*(2))$%?(#%12M%%$A(#%12M$%R'#%2*"
"($%.'*%$%**-$$,&-,+#2*/**+#2*6+*$%W(#%2*S$%)$&,(-&1*S+%$&/'-&$$'$)9$(:$'/&#1$%"
"'(%#2+;$##&1#+)&%*$&/'%&(%)1,F$%.&&-$%)'&-&%*'%.(%)1,F'%)*&'%.(%)1,F'%)*&'%.(%"
")2-N&##1-I$%=(%*2-,$%)&%-$$-(%,12M$%*&%-1-8$$($%(&*-*%$&-&-.0*V&1$+)*)+'2+'+)+"
"(2+$$%(($%21.$*=$&*.$%A'&%$%/)&%$%.&-&$&&.$%&)&%$%)&-&$)9&()$%(&#1*)(#%12M+(2/"
"'$)O$(8*)$'-$#-$%((%12/P+#*)+'2/E&##21)$'#*/+'$%-(%/20;$/#00($$,+,&')&#)$%.(#%"
"&/++'+'+#&$#$%9($%20L+(2/=$$>-%%$F-$%T-%%$&-%%$3-$)O$(8$'/&$$-%%$F-$%W-&#1$&S'"
"#&-%%$X-$%C--*)+'21N+)$%--+(21K/0(K$#>-%$$F-$&S-%%$X-&##-&$$-%%$*-$%U-$%X-%%$S"
"-%%$7-%%$T-%%$Y-%%$P-%%%&-%%$%-$%C-$)'&%1249+)24.*)+)'1&-+)24;$%--#";

uint16_t m[512], r[8], c, *a, o, x;

uint16_t f(uint8_t l) {
	for (x = 0; l--;) x = x * 56 + (b[c++] - 35);
	return x;
}

uint16_t* d() { return a = f(1) < 8 ? r + x : m + r[x - 8]++; }

uint16_t s() { return f(1) < 8 ? r[x] : m[r[x - 8]]; }

int main() {
	srand(time(0));
	system("stty cbreak -echo min 0");
	while ((o = f(1))) {
		switch (o) {
		case 1: case 2: d(); *a = f(o); break;
		case 3: d(); *a = s(); break;
		case 4: d(); *a += s(); break;
		case 5: d(); *a -= s(); break;
		case 6: d(); *a *= s(); break;
		case 7: ++*d(); break;
		case 8: --*d(); break;
		case 9: *d() = getchar(); break;
		case 10: putchar(*a); break;
		case 11: *a = rand() % *a; break;
		case 12: usleep(20000); break;
		default: f(2); if (o == 13 || !*a ^ (o > 14)) c = x; break;
		}
	}
	system("stty sane");
	return 0;
}
