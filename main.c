#include <stdlib.h>
#include <stdio.h>
#include <stdint.h>
#include <time.h>
#include <unistd.h>

uint8_t b[] = {
	33, 120, 42, 26, 46, 38, 20, 162, 102, 18, 222, 225, 122, 30, 222, 225,
	122, 30, 222, 225, 122, 30, 222, 225, 122, 30, 190, 225, 18, 174, 231, 225,
	26, 206, 231, 225, 26, 46, 231, 225, 28, 174, 225, 33, 30, 22, 190, 225,
	27, 46, 231, 225, 33, 30, 22, 190, 225, 27, 46, 231, 231, 226, 97, 231,
	225, 27, 46, 225, 121, 118, 46, 30, 22, 46, 225, 25, 46, 231, 226, 81, 231,
	103, 225, 27, 46, 231, 231, 226, 81, 225, 27, 46, 225, 123, 118, 30, 206,
	225, 18, 190, 225, 122, 118, 30, 206, 225, 18, 190, 225, 122, 126, 30, 158,
	231, 225, 28, 190, 231, 231, 225, 121, 30, 206, 225, 43, 22, 38, 21, 22,
	126, 33, 74, 38, 88, 27, 16, 81, 28, 126, 88, 27, 49, 34, 177, 45, 82, 219,
	34, 35, 45, 66, 218, 34, 177, 45, 82, 219, 34, 243, 45, 50, 210, 34, 83,
	45, 98, 220, 41, 10, 33, 53, 122, 49, 58, 171, 39, 161, 128, 170, 145, 53,
	80, 92, 87, 27, 150, 34, 193, 5, 162, 179, 42, 82, 86, 32, 58, 171, 34,
	242, 4, 178, 161, 22, 178, 116, 18, 114, 167, 17, 57, 154, 8, 27, 234, 119,
	8, 27, 107, 120, 34, 67, 5, 178, 209, 22, 98, 49, 89, 58, 26, 109, 40, 49,
	76, 58, 17, 36, 22, 38, 21, 23, 196, 3, 30, 66, 37, 176, 241, 25, 0, 227,
	128, 54, 114, 49, 76, 50, 37, 166, 66, 16, 178, 51, 26, 98, 52, 58, 114,
	36, 91, 98, 42, 4, 36, 118, 67, 178, 37, 166, 66, 64, 98, 55, 36, 91, 98,
	43, 104, 3, 160, 130, 33, 18, 90, 114, 43, 38, 33, 54, 162, 17, 90, 146,
	58, 171, 33, 55, 162, 42, 246, 17, 21, 82, 115, 122, 18, 163, 163, 155,
	209, 57, 30, 104, 103, 72, 27, 78, 104, 88, 27, 30, 33, 85, 33, 59, 133,
	114, 161, 49, 231, 34, 225, 52, 18, 194, 54, 18, 178, 163, 19, 51, 30, 50,
	54, 18, 98, 163, 35, 22, 54, 101, 33, 53, 224, 103, 5, 162, 179, 138, 181,
	210, 37, 38, 44, 21, 117, 22, 164, 1, 26, 82, 37, 190, 3, 131, 112, 134,
	180, 242, 55, 0, 59, 37, 65, 112, 140, 20, 162, 37, 188, 35, 26, 12, 57,
	81, 17, 137, 57, 100, 3, 22, 178, 5, 50, 140, 72, 72, 8, 19, 32, 18, 86,
	33, 59, 179, 88, 43, 254, 34, 177, 45, 82, 219, 34, 19, 45, 50, 219, 34,
	132, 45, 38, 44, 21, 21, 196, 34, 177, 45, 82, 219, 34, 67, 61, 224, 50, 3,
	4, 211, 34, 214, 45, 34, 208, 125, 134, 180, 115, 140, 22, 162, 141, 181,
	115, 249, 25, 37, 2, 177, 45, 81, 219, 50, 3, 45, 98, 221, 3, 208, 19, 209,
	34, 243, 45, 50, 210, 34, 83, 45, 98, 216, 34, 196, 45, 98, 217, 34, 230,
	45, 98, 213, 34, 55, 45, 50, 218, 34, 2, 29, 70, 35, 190, 20, 141, 182, 20,
	112, 134, 70, 62, 141, 182, 20, 31, 162, 13
};

uint16_t m[512], r[8], c, *a, o, n, x;

uint16_t f(uint8_t l) {
	for (x = 0; l--; ++c) x = x << 4 | (b[c / 2] >> c % 2 * 4 & 15);
	return x;
}

uint16_t* d() {
	x = f(1);
	return a = x < 8 ? r + x : m + r[x - 8]++;
}

uint16_t s() {
	x = f(1);
	return x < 8 ? r[x] : m[r[x - 8]];
}

int main() {
	srand(time(0));
	system("stty cbreak -echo min 0");
	while ((o = f(1))) {
		switch (o) {
		case 1:
		case 2: d(); *a = f(o); break;
		case 3: d(); *a = s(); break;
		case 4: d(); *a += s(); break;
		case 5: d(); *a -= s(); break;
		case 6: d(); *a *= s(); break;
		case 7: ++*d(); break;
		case 8: --*d(); break;
		case 9:
		case 10:
		case 11: n = f(3); if (o == 9 || !*a ^ (o > 10)) c = n; break;
		case 12: *d() = getchar(); break;
		case 13: putchar(*a); break;
		case 14: *a = rand() % *a; break;
		case 15: usleep(20000); break;
		}
	}
	system("stty sane");
	return 0;
}
